# Enable colors
autoload -U colors && colors

# Fetch git info, for prompt below
autoload -Uz vcs_info
precmd() { vcs_info }
zstyle ':vcs_info:git:*' formats '%b '

# Prompt
PROMPT="%F{159}%n%f%F{218}@%f%F{7}%m%f %F{218}%~%f%F{159}$%f "
RPROMPT="%F{8}$vcs_info_msg_0_%f %F{7}%t%f"

# If you come from bash you might have to change your $PATH.
export PATH=$HOME/bin:/usr/local/bin:$PATH
export PATH=$PATH:$HOME/.local/bin/
export PASSWD_FILE=$HOME/.smbkey # Used for SMB authentication

# Enable autocomplete
autoload -Uz compinit
zmodload zsh/complist
zstyle ':completion:*' menu select
compinit

# Case-sensitive completion must be off. _ and - will be interchangeable.
HYPHEN_INSENSITIVE="true"

# Uncomment the following line to enable command auto-correction.
ENABLE_CORRECTION="true"

# Preferred editor
export EDITOR='vim'

# Aliases
alias todo="nvim ~/Notes/ToDo.txt"
alias scratch="nvim ~/Notes/Scratchpad.txt"
alias python=python3
alias stow="stow --dotfiles"
alias stodo="nvim ~/School/ToDo-School.txt"
alias dated="nvim $(date -I).txt"
alias wttr="curl wttr.in"
alias testsite="bundle exec jekyll s" # Run Jekyll; for testing website
alias pd="pomodoro" # Used with openpomodoro-cli
alias mullcheck="curl -sS https://am.i.mullvad.net/connected"
alias vpnon="sudo tailscale set --exit-node=us-den-wg-203.mullvad.ts.net"
alias vpnoff="sudo tailscale set --exit-node="
alias nokvm="sudo modprobe -r kvm-intel kvm" # Used to disable KVM Kernel extension for virtualbox
alias eleventy="npx @11ty/eleventy"

# Used to get ruby stuff working...?
# eval "$(rbenv init - zsh 2>/dev/null)" 2>/dev/null
# export PATH=$PATH:$HOME/Scripts
# export PATH=$PATH:$HOME/gems/bin
# export GEM_HOME=$HOME/gems/
#
# History File
HISTFILE=~/.zsh_history

# How many commands to store in history file
HISTSIZE=10000
SAVEHIST=10000

# Enable shared history
setopt SHARE_HISTORY

# History-based autocompletiong
bindkey '\e[A' history-beginning-search-backward
bindkey '\e[B' history-beginning-search-forward

# Autorun tmux if not already in tmux
# if [ "$TMUX" = "" ]; then
#	tmux;
# fi

# Autorun hyfetch
hyfetch 2>/dev/null

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
